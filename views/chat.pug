include mixins/mixins.pug

<!DOCTYPE html>
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        meta(name="author", content="tharunoptimus")
        meta(name="description", content="Disposable Messenger")
        link(rel="stylesheet", href="/css/main.css")

        title #{pageTitle}
        link(rel='stylesheet' href='/css/cropper.min.css')
        link(rel='stylesheet' href='/css/bootstrap.min.css' integrity='sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh' crossorigin='anonymous')
    body
        script.
            let chatId = !{chatid}
            let user = !{user}
            let isRegistered = !{registered}
        .wrapper
            .registerDivContainer
                .registerDiv
                    .registerContentContainer
                        .registerHeader
                        .registerContainer
                            .continueContainer
                                .continueHeader
                                    p Continue
                                .logoContainer
                                    a(href="/home")
                                        img(src='/images/talk.png' alt='Site Logo')
                                .chatRoomIdContainer
                                    span Chat Room
                                    span !{chatid}
                                .registrationFieldContainer
                                    form(action='/chat/new' method='POST')
                                        input(type="hidden", name="chatid", value=chatid)
                                        input#userName.namefield(maxlength='15' placeholder='Enter your Name' aria-label='Enter Name' type='text' name='name')
                                        button.joinButton(type='submit') Join
                        .registerFooter

            .chatDiv
                .leftPane
                    h1
                    .leftPaneLogoContainer
                        img(src="/images/talk.png", alt="Site Logo")
                    span#invite.unselectable
                        i(class="fal fa-share-alt")
                        div Invite
                    span#leave.unselectable
                        i(class="fal fa-sign-out")
                        div Leave
                .chatDivHolder
                    .chatPageContainer
                        .chatTitleBarContainer
                            span#chatName
                        .mainContentContainer
                            .chatContainer
                                ul.chatMessages
                                .typingIndicator
                                    .typing
                                        .typingGifHolder
                                            img(src="/images/typing.gif", alt="Someone is typing")
                                        span Someone is typing
                                .footer
                                    button.sendImageButton(aria-label="Send Image", data-toggle="modal", data-target="#sendImageModal")
                                        i.fal.fa-camera-alt
                                    button.sendVideoCallRequestButton(aria-label="Send Video Call Link")
                                        i.fal.fa-video
                                    textarea#messageTextarea(name='messageInput' placeholder='Type a message...' autofocus="")
                                    button.sendMessageButton(aria-label="Send Message")
                                        i#sendChatButton.fal.fa-paper-plane
                            .statusBar
            +sendImageModal()
            +viewSentImageModal()
                
            
            


        script(src='/js/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
        script(defer="",src='/js/cropper.min.js')
        script(defer="",src='/js/popper.min.js' integrity='sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo' crossorigin='anonymous')
        script(defer="",src='/js/bootstrap.min.js' integrity='sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6' crossorigin='anonymous')
        script(src='/js/socket.io.min.js')        
        script(src='/js/socket.js')
        script(src='/js/main.js')